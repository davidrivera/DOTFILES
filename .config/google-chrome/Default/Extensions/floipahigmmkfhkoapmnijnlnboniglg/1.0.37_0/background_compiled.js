(function() {var k,aa=aa||{},l=this,ba=function(){},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,
d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return p.apply(null,arguments)},ga=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ha=function(a,b){function c(){}c.prototype=b.prototype;a.ca=b.prototype;a.prototype=new c};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return p.apply(null,c)}return p(this,a)};chrome.fa={};chrome.fa.qa={};chrome.fa.qa.va=function(){};var ia=function(a){var b=q.getItem("pref-tld");return b?a.replace(/\.google\.\w{2,3}(\.\w{2})?/,b):a};var ja=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};var r=Array.prototype,ka=r.indexOf?function(a,b,c){return r.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},la=r.forEach?function(a,b,c){r.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},na=function(a){var b;t:{b=ma;for(var c=a.length,d=n(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,
d[e],e,a)){b=e;break t}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},oa=function(a,b){var c=ka(a,b),d;(d=0<=c)&&r.splice.call(a,c,1);return d},pa=function(a){return r.concat.apply(r,arguments)},qa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var s,u,v,ra,sa=function(){return l.navigator?l.navigator.userAgent:null};ra=v=u=s=!1;var w;if(w=sa()){var ta=l.navigator;s=0==w.lastIndexOf("Opera",0);u=!s&&(-1!=w.indexOf("MSIE")||-1!=w.indexOf("Trident"));v=!s&&-1!=w.indexOf("WebKit");ra=!s&&!v&&!u&&"Gecko"==ta.product}var ua=s,x=u,va=ra,y=v,wa;
t:{var z="",A;if(ua&&l.opera)var xa=l.opera.version,z="function"==typeof xa?xa():xa;else if(va?A=/rv\:([^\);]+)(\)|;)/:x?A=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:y&&(A=/WebKit\/(\S+)/),A)var ya=A.exec(sa()),z=ya?ya[1]:"";if(x){var za,Aa=l.document;za=Aa?Aa.documentMode:void 0;if(za>parseFloat(z)){wa=String(za);break t}}wa=z}
var Ba=wa,Ca={},D=function(a){var b;if(!(b=Ca[a])){b=0;for(var c=ja(String(Ba)).split("."),d=ja(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",B=RegExp("(\\d*)(\\D*)","g"),C=RegExp("(\\d*)(\\D*)","g");do{var m=B.exec(g)||["","",""],t=C.exec(h)||["","",""];if(0==m[0].length&&0==t[0].length)break;b=((0==m[1].length?0:parseInt(m[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==m[1].length?0:parseInt(m[1],10))>(0==t[1].length?0:parseInt(t[1],10))?1:
0)||((0==m[2].length)<(0==t[2].length)?-1:(0==m[2].length)>(0==t[2].length)?1:0)||(m[2]<t[2]?-1:m[2]>t[2]?1:0)}while(0==b)}b=Ca[a]=0<=b}return b};x&&D("9");!y||D("528");va&&D("1.9b")||x&&D("8")||ua&&D("9.5")||y&&D("528");va&&!D("8")||x&&D("9");var E=function(){};E.prototype.T=!1;E.prototype.ea=function(){this.T||(this.T=!0,this.p())};E.prototype.p=function(){if(this.ha)for(;this.ha.length;)this.ha.shift()()};var F=function(a,b){this.type=a;this.currentTarget=this.target=b};F.prototype.p=function(){};F.prototype.ea=function(){};F.prototype.N=!1;F.prototype.ja=!0;var Da="closure_listenable_"+(1E6*Math.random()|0),Ea=0;var Fa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ga=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ia=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ha.length;f++)c=Ha[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ja=function(a,b,c,d,e){this.S=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.R=e;this.key=++Ea;this.removed=this.Q=!1},Ka=function(a){a.removed=!0;a.S=null;a.proxy=null;a.src=null;a.R=null};var La=function(a){this.src=a;this.e={};this.M=0};La.prototype.add=function(a,b,c,d,e){var f=this.e[a];f||(f=this.e[a]=[],this.M++);var g=Ma(f,b,d,e);-1<g?(a=f[g],c||(a.Q=!1)):(a=new Ja(b,this.src,a,!!d,e),a.Q=c,f.push(a));return a};La.prototype.remove=function(a,b,c,d){if(!(a in this.e))return!1;var e=this.e[a];b=Ma(e,b,c,d);return-1<b?(Ka(e[b]),r.splice.call(e,b,1),0==e.length&&(delete this.e[a],this.M--),!0):!1};
La.prototype.removeAll=function(a){var b=0,c;for(c in this.e)if(!a||c==a){for(var d=this.e[c],e=0;e<d.length;e++)++b,Ka(d[e]);delete this.e[c];this.M--}return b};var Ma=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.S==b&&f.capture==!!c&&f.R==d)return e}return-1};var G=function(){this.r=new La(this);this.la=this};ha(G,E);G.prototype[Da]=!0;G.prototype.U=null;
G.prototype.dispatchEvent=function(a){var b,c=this.U;if(c){b=[];for(var d=1;c;c=c.U)b.push(c),++d}c=this.la;d=a.type||a;if(n(a))a=new F(a,c);else if(a instanceof F)a.target=a.target||c;else{var e=a;a=new F(d,c);Ia(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.N&&0<=g;g--)f=a.currentTarget=b[g],e=Na(f,d,!0,a)&&e;a.N||(f=a.currentTarget=c,e=Na(f,d,!0,a)&&e,a.N||(e=Na(f,d,!1,a)&&e));if(b)for(g=0;!a.N&&g<b.length;g++)f=a.currentTarget=b[g],e=Na(f,d,!1,a)&&e;return e};
G.prototype.p=function(){G.ca.p.call(this);this.r&&this.r.removeAll(void 0);this.U=null};G.prototype.listen=function(a,b,c,d){return this.r.add(a,b,!1,c,d)};var Na=function(a,b,c,d){b=a.r.e[b];if(!b)return!0;b=qa(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.S,B=g.R||g.src;if(g.Q){var C=a.r,m=g.type;m in C.e&&oa(C.e[m],g)&&(Ka(g),0==C.e[m].length&&(delete C.e[m],C.M--))}e=!1!==h.call(B,d)&&e}}return e&&!1!=d.ja};var Oa="StopIteration"in l?l.StopIteration:Error("StopIteration"),Pa=function(){};Pa.prototype.next=function(){throw Oa;};Pa.prototype.oa=function(){return this};var H=function(a,b){this.h={};this.d=[];this.H=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof H?(c=a.l(),d=a.i()):(c=Ga(a),d=Fa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};H.prototype.i=function(){Qa(this);for(var a=[],b=0;b<this.d.length;b++)a.push(this.h[this.d[b]]);return a};H.prototype.l=function(){Qa(this);return this.d.concat()};
H.prototype.v=function(a){return I(this.h,a)};H.prototype.remove=function(a){return I(this.h,a)?(delete this.h[a],this.c--,this.H++,this.d.length>2*this.c&&Qa(this),!0):!1};var Qa=function(a){if(a.c!=a.d.length){for(var b=0,c=0;b<a.d.length;){var d=a.d[b];I(a.h,d)&&(a.d[c++]=d);b++}a.d.length=c}if(a.c!=a.d.length){for(var e={},c=b=0;b<a.d.length;)d=a.d[b],I(e,d)||(a.d[c++]=d,e[d]=1),b++;a.d.length=c}};H.prototype.get=function(a,b){return I(this.h,a)?this.h[a]:b};
H.prototype.set=function(a,b){I(this.h,a)||(this.c++,this.d.push(a),this.H++);this.h[a]=b};H.prototype.s=function(){return new H(this)};H.prototype.oa=function(a){Qa(this);var b=0,c=this.d,d=this.h,e=this.H,f=this,g=new Pa;g.next=function(){for(;;){if(e!=f.H)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Oa;var g=c[b++];return a?g:d[g]}};return g};var I=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ra=function(a){if("function"==typeof a.i)return a.i();if(n(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Fa(a)},Sa=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(da(a)||n(a))la(a,b,c);else{var d;if("function"==typeof a.l)d=a.l();else if("function"!=typeof a.i)if(da(a)||n(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ga(a);else d=void 0;for(var e=Ra(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var J=function(){};J.prototype.Y=null;J.prototype.getChildren=function(){this.Y||(this.Y={});return this.Y};J.prototype.info=function(){};var Ta={},Ua=null,Va=function(a){Ua||(Ua=new J,Ta[""]=Ua);var b;if(!(b=Ta[a])){b=new J;var c=a.lastIndexOf("."),d=a.substr(c+1);Va(a.substr(0,c)).getChildren()[d]=b;Ta[a]=b}return b};var K=function(){};var Wa=function(a,b,c){if("function"==ca(a))c&&(a=p(a,c));else if(a&&"function"==typeof a.handleEvent)a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Za=function(a){if(Ya){Ya=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Za(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Ya=!0,Error();}}return a.match(Xa)},Ya=y;var $a=function(){};$a.prototype.G=null;var L,ab=function(){};ha(ab,$a);
var cb=function(a){return(a=bb(a))?new ActiveXObject(a):new XMLHttpRequest},db=function(a){var b={};bb(a)&&(b[0]=!0,b[1]=!0);return b},bb=function(a){if(!a.ga&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ga=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ga};
L=new ab;var M=function(a){G.call(this);this.headers=new H;this.o=a||null;this.k=!1;this.C=this.a=null;this.t=this.Z=this.B="";this.m=this.O=this.A=this.P=!1;this.u=0;this.D=null;this.$="";this.F=this.ia=!1};ha(M,G);var eb=/^https?$/i,fb=["POST","PUT"],gb=[],hb=function(a,b){var c=new M;gb.push(c);b&&c.listen("complete",b);c.r.add("ready",c.na,!0,void 0,void 0);c.send(a,void 0,void 0,void 0)};M.prototype.na=function(){this.ea();oa(gb,this)};
M.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+a);b=b?b.toUpperCase():"GET";this.B=a;this.t="";this.Z=b;this.P=!1;this.k=!0;this.a=this.o?cb(this.o):cb(L);this.C=this.o?this.o.G||(this.o.G=db(this.o)):L.G||(L.G=db(L));this.a.onreadystatechange=p(this.aa,this);try{K(N(this,"Opening Xhr")),this.O=!0,this.a.open(b,a,!0),this.O=!1}catch(e){K(N(this,"Error opening Xhr: "+e.message));ib(this,e);return}a=c||"";var f=this.headers.s();
d&&Sa(d,function(a,b){f.set(b,a)});d=na(f.l());c=l.FormData&&a instanceof l.FormData;!(0<=ka(fb,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Sa(f,function(a,b){this.a.setRequestHeader(b,a)},this);this.$&&(this.a.responseType=this.$);"withCredentials"in this.a&&(this.a.withCredentials=this.ia);try{jb(this),0<this.u&&(this.F=x&&D(9)&&"number"==typeof this.a.timeout&&void 0!==this.a.ontimeout,K(N(this,"Will abort after "+this.u+"ms if incomplete, xhr2 "+this.F)),
this.F?(this.a.timeout=this.u,this.a.ontimeout=p(this.ba,this)):this.D=Wa(this.ba,this.u,this)),K(N(this,"Sending request")),this.A=!0,this.a.send(a),this.A=!1}catch(g){K(N(this,"Send error: "+g.message)),ib(this,g)}};var ma=function(a){return"content-type"==a.toLowerCase()};M.prototype.ba=function(){"undefined"!=typeof aa&&this.a&&(this.t="Timed out after "+this.u+"ms, aborting",N(this,this.t),this.dispatchEvent("timeout"),this.abort(8))};
var ib=function(a,b){a.k=!1;a.a&&(a.m=!0,a.a.abort(),a.m=!1);a.t=b;kb(a);lb(a)},kb=function(a){a.P||(a.P=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};M.prototype.abort=function(){this.a&&this.k&&(N(this,"Aborting"),this.k=!1,this.m=!0,this.a.abort(),this.m=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),lb(this))};M.prototype.p=function(){this.a&&(this.k&&(this.k=!1,this.m=!0,this.a.abort(),this.m=!1),lb(this,!0));M.ca.p.call(this)};
M.prototype.aa=function(){this.T||(this.O||this.A||this.m?mb(this):this.ka())};M.prototype.ka=function(){mb(this)};
var mb=function(a){if(a.k&&"undefined"!=typeof aa)if(a.C[1]&&4==O(a)&&2==nb(a))N(a,"Local request error detected and ignored");else if(a.A&&4==O(a))Wa(a.aa,0,a);else if(a.dispatchEvent("readystatechange"),4==O(a)){N(a,"Request complete");a.k=!1;try{var b=nb(a),c,d;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break t;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Za(String(a.B))[1]||null;if(!f&&self.location)var g=self.location.protocol,f=g.substr(0,g.length-1);
e=!eb.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var h;try{h=2<O(a)?a.a.statusText:""}catch(B){h=""}a.t=h+" ["+nb(a)+"]";kb(a)}}finally{lb(a)}}},lb=function(a,b){if(a.a){jb(a);var c=a.a,d=a.C[0]?ba:null;a.a=null;a.C=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}},jb=function(a){a.a&&a.F&&(a.a.ontimeout=null);"number"==typeof a.D&&(l.clearTimeout(a.D),a.D=null)},O=function(a){return a.a?a.a.readyState:0},nb=function(a){try{return 2<
O(a)?a.a.status:-1}catch(b){return-1}},ob=function(a){try{return a.a?a.a.responseText:""}catch(b){return""}},N=function(a,b){return b+" ["+a.Z+" "+a.B+" "+nb(a)+"]"};var P=function(a,b){var c;if(a instanceof P)this.f=void 0!==b?b:a.f,pb(this,a.q),c=a.L,Q(this),this.L=c,c=a.w,Q(this),this.w=c,qb(this,a.K),c=a.J,Q(this),this.J=c,rb(this,a.j.s()),c=a.I,Q(this),this.I=c;else if(a&&(c=Za(String(a)))){this.f=!!b;pb(this,c[1]||"",!0);var d=c[2]||"";Q(this);this.L=d?decodeURIComponent(d):"";d=c[3]||"";Q(this);this.w=d?decodeURIComponent(d):"";qb(this,c[4]);d=c[5]||"";Q(this);this.J=d?decodeURIComponent(d):"";rb(this,c[6]||"",!0);c=c[7]||"";Q(this);this.I=c?decodeURIComponent(c):
""}else this.f=!!b,this.j=new R(null,0,this.f)};k=P.prototype;k.q="";k.L="";k.w="";k.K=null;k.J="";k.I="";k.pa=!1;k.f=!1;k.toString=function(){var a=[],b=this.q;b&&a.push(S(b,sb),":");if(b=this.w){a.push("//");var c=this.L;c&&a.push(S(c,sb),"@");a.push(encodeURIComponent(String(b)));b=this.K;null!=b&&a.push(":",String(b))}if(b=this.J)this.w&&"/"!=b.charAt(0)&&a.push("/"),a.push(S(b,"/"==b.charAt(0)?tb:ub));(b=this.j.toString())&&a.push("?",b);(b=this.I)&&a.push("#",S(b,vb));return a.join("")};
k.s=function(){return new P(this)};var pb=function(a,b,c){Q(a);a.q=c?b?decodeURIComponent(b):"":b;a.q&&(a.q=a.q.replace(/:$/,""))},qb=function(a,b){Q(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.K=b}else a.K=null},rb=function(a,b,c){Q(a);b instanceof R?(a.j=b,a.j.V(a.f)):(c||(b=S(b,wb)),a.j=new R(b,0,a.f))},T=function(a,b,c){Q(a);a.j.set(b,c)},U=function(a,b){Q(a);a.j.remove(b)},Q=function(a){if(a.pa)throw Error("Tried to modify a read-only Uri");};
P.prototype.V=function(a){this.f=a;this.j&&this.j.V(a);return this};
var S=function(a,b){return n(a)?encodeURI(a).replace(b,xb):null},xb=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},sb=/[#\/\?@]/g,ub=/[\#\?:]/g,tb=/[\#\?]/g,wb=/[\#\?@]/g,vb=/#/g,R=function(a,b,c){this.g=a||null;this.f=!!c},W=function(a){if(!a.b&&(a.b=new H,a.c=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=V(a,e);a.add(e,
f?decodeURIComponent(f.replace(/\+/g," ")):"")}};k=R.prototype;k.b=null;k.c=null;k.add=function(a,b){W(this);this.g=null;a=V(this,a);var c=this.b.get(a);c||this.b.set(a,c=[]);c.push(b);this.c++;return this};k.remove=function(a){W(this);a=V(this,a);return this.b.v(a)?(this.g=null,this.c-=this.b.get(a).length,this.b.remove(a)):!1};k.v=function(a){W(this);a=V(this,a);return this.b.v(a)};
k.l=function(){W(this);for(var a=this.b.i(),b=this.b.l(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.i=function(a){W(this);var b=[];if(n(a))this.v(a)&&(b=pa(b,this.b.get(V(this,a))));else{a=this.b.i();for(var c=0;c<a.length;c++)b=pa(b,a[c])}return b};k.set=function(a,b){W(this);this.g=null;a=V(this,a);this.v(a)&&(this.c-=this.b.get(a).length);this.b.set(a,[b]);this.c++;return this};k.get=function(a,b){var c=a?this.i(a):[];return 0<c.length?String(c[0]):b};
k.toString=function(){if(this.g)return this.g;if(!this.b)return"";for(var a=[],b=this.b.l(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.i(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.g=a.join("&")};k.s=function(){var a=new R;a.g=this.g;this.b&&(a.b=this.b.s(),a.c=this.c);return a};var V=function(a,b){var c=String(b);a.f&&(c=c.toLowerCase());return c};
R.prototype.V=function(a){a&&!this.f&&(W(this),this.g=null,Sa(this.b,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.g=null,this.b.set(V(this,d),qa(a)),this.c+=a.length))},this));this.f=a};var q=window.localStorage;var zb=function(a,b){var c=["*"];a&&a.ctrlKey?chrome.tabs.create({url:b}):a&&a.shiftKey?chrome.windows.create({url:b}):yb(b,c||[],function(a){a?chrome.tabs.update(a.id,{selected:!0}):"false"!=q.getItem("pref-navigate-new-tab")?chrome.tabs.create({url:b}):chrome.tabs.getSelected(null,function(a){chrome.tabs.update(a.id,{url:b})})})},yb=function(a,b,c){chrome.tabs.getSelected(null,function(d){var e=0;Ab(d,a,b)&&(e=d.index+1);chrome.tabs.getAllInWindow(null,function(d){for(var g=0,h=d.length;g<h;++g){var B=
d[(g+e)%h];if(Ab(B,a,b)){c(B);return}}c(null)})})},Ab=function(a,b,c){if(!a)return!1;if(b==a.url)return!0;if(!Bb(a.url,b))return!1;c=c||[];for(var d=0,e=c.length;d<e;d++)if("*"==c[d]||Bb(a.url,b+c[d]))return!1;return!0},Bb=function(a,b){var c=b.replace("http://","https://");return 0==a.lastIndexOf(b,0)||0==a.lastIndexOf(c,0)};var Eb=function(a,b){this.ma=b;this.da=!1;this.X=this.W=null;Cb(this,a);this.X=[];Db(this)},Cb=function(a,b){var c=chrome.extension.getBackgroundPage();(c=(c=c&&c.n&&c.n.search&&c.n.search.background)&&c.ra)||(c="http://clients1.google.com/complete/search");c=ia(c);c=new P(c);T(c,"client","htsa");U(c,"mw");U(c,"sh");U(c,"rh");U(c,"inputencoding");U(c,"outputencoding");T(c,"q",b);hb(c.toString(),function(){a.W=ob(this);Db(a)})},Db=function(a){a.da||a.W&&a.X&&a.ma(a.W,a.X)};
Eb.prototype.abort=function(){this.da=!0};var Fb=function(){this.command="htsaUpdateSuggest";this.results=null},Gb=function(){this.command="htsaUnrender"};var Ib=Hb,X=["tblf","htsa","initBackgroundPage"],Y=l;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ib?Y=Y[Z]?Y[Z]:Y[Z]={}:Y[Z]=Ib;
var Jb=null,Hb=function(){Va("tblf.htsa").info("initBackgroundPage()");chrome.extension.onConnect.addListener(function(a){if(0!=a.sender.tab.url.lastIndexOf("https://",0)||"true"==q.getItem("pref-enable-https"))switch(a.name){case "htsaRendererToBackground":Kb(a);a.onMessage.addListener(Lb(a));break;case "htsaTriggerToBackground":a.onMessage.addListener(Mb(a))}});chrome.tabs.onUpdated.addListener(function(){});q.getItem("pref-tld")||Nb();chrome.windows.getAll({populate:!0},function(a){for(var b=a.length,
c=0;c<b;c++)for(var d=a[c].tabs,e=d.length,f=0;f<e;f++){var g=d[f];0!=g.url.lastIndexOf("http://",0)&&0!=g.url.lastIndexOf("https://",0)||Ob(g.id)}})},Nb=function(){hb("https://www.google.com/searchdomaincheck?format=domain",function(){var a=ob(this);0==a.lastIndexOf(".google.",0)&&q.setItem("pref-tld",a)})},Lb=function(a){return function(b){if("false"!=q.getItem("pref-htsa-enable"))switch(b.command){case "htsaPerformSearch":if("false"==q.getItem("pref-htsa-enable"))break;var c=decodeURIComponent(b.query),
c=ja(c);128<c.length&&(c=c.substr(0,128));var d;d=c;if(-1!=d.indexOf(" "))d=!1;else{var e=/^(http|https|ftp):\/\//;d=e.test(d)&&""!=d.replace(e,"")?!0:RegExp("^([\\w\\d-]+\\.)+(com|edu|net|org|gov|mil|jp|de|au|in|uk|fr|ca|dk|it|cn|kr|int|arpa|nato|biz|name|museum|pro|aero|coop|info|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)(/\\S*)?$").test(d)}if(d)/^(http|https|ftp):\/\//.test(c)||
(c="http://"+c);else{d=c;var e=b.typeIndex,f=b.originalQuery,c="gs_htsa=1",g=chrome.extension.getBackgroundPage(),h=g&&g.n&&g.n.search&&g.n.search.background;(h=h&&h.ta)||(h="http://www.google.com/search");h=ia(h);h=new P(h);T(h,"sourceid","chrome");U(h,"rls");U(h,"ie");U(h,"oe");d?T(h,"q",d):U(h,"q");e&&T(h,"aq",e);f&&T(h,"oq",f);(d=g&&g.n&&g.n.ua)&&(d=d.sa)&&0<d.length&&T(h,"rlz",d);h=h.toString().replace(/%20/g,"+");c&&(0<c.length&&("?"==c.charAt(0)||"&"==c.charAt(0))&&(c=c.substr(1)),h+="&"+c);
0<h.length-2047&&(h=h.substring(0,2047));c=h}zb({keyCode:13,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey},c);break;case "htsaRequestSuggest":Jb=new Eb(decodeURIComponent(b.query),ga(Pb,a));break;case "htsaAbortSuggest":Jb&&Jb.abort();break;case "htsaDisable":b=new Gb;for(c in $)$[parseInt(c,10)].postMessage(b);q.setItem("pref-htsa-enable","false");break;case "htsaUnrender":a.postMessage(b)}}},Mb=function(a){return function(b){if("false"!=q.getItem("pref-htsa-enable"))switch(b.command){case "htsaRender":if("false"==
q.getItem("pref-show-search-button-on-select")&&!b.doFocus)break;var c=$[a.sender.tab.id];if(!c){window.setTimeout(function(){(c=$[a.sender.tab.id])?c.postMessage(b):Va("tblf.htsa")},500);break}c.postMessage(b);break;case "htsaUnrender":c=$[a.sender.tab.id];if(!c)break;c.postMessage(b)}}},Ob=function(a){chrome.tabs.executeScript(a,{file:"contentscript/htsa_common.js",allFrames:!0},function(){});chrome.tabs.executeScript(a,{file:"contentscript/htsa_trigger.js",allFrames:!0},function(){});chrome.tabs.insertCSS(a,
{file:"contentscript/highlight-to-search-anywhere.css",allFrames:!1},function(){});chrome.tabs.executeScript(a,{file:"contentscript/htsa_renderer.js",allFrames:!1},function(){})},$={},Kb=function(a){$[a.sender.tab.id]=a;a.onDisconnect.addListener(function(){delete $[a.sender.tab.id]})},Pb=function(a,b){Jb=null;var c=new Fb;c.results=JSON.parse(b);a.postMessage(c)};window.onload=function(){Hb()};})()
